(()=>{"use strict";var e={147:e=>{var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,a||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,i=new Array(a);o<a;o++)i[o]=r[o].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,a,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,a),!0;case 6:return u.fn.call(u.context,t,r,o,a,i),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,o);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||i(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},9217:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(147);const o=new(n.n(r)())}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(9217);function o(e){var t=e;return t&&(t=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}(e)),t&&(t=function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(e,n){return t[n]}))}(t)),t&&(t=function(e){return'"'==e.charAt(0)&&"/"==e.charAt(1)&&(e=location.protocol+"//"+location.host+e.substring(1,e.length)),'"'==e.charAt(e.length-1)?e.substring(0,e.length-1):e}(t)),t}function a(e){var t="";let n=e;try{n=/^https?\:\/\//.test(e)?urlR.split("?")[0]:e}catch(e){}return n.match(/^(http|https):.+(\.txt|\.pdf|\.xlsx|\.xls|\.doc|\.docx|\.epub|\.pptx|\.ppt)$/g)?t="doc":(n.match(/^(http|https):.+(\.m3u8|\.mp4|\.mov|\.mpv|\.m4v|\.g3p|\.g32|\.avi|\.asf|\.wmv|\.avs|\.flv|\.mkv|\.mpg|\.mpeg|\.ogm|\.vob|\.rm|\.ts|\.tp|\.ifo|\.nsv|\.m2ts|\.3gp|\.f4v|\.rmvb)$/g)||[]).length>0?t="video":n.match(/^(http|https):.+\.(zip|rar|7z|tar|gz|exe|dmg|apk|pkg|deb)/)?t="archive":n.endsWith(".torrent")||n.match(/^(thunder|flashget|qqdl|magnet|ed2k):\/\//g)||n.match(/^magnet:\?/)?t="seed":(n.startsWith("https://pan.quark.cn/s/")||n.startsWith("http://quark-cloud-drive-web-serverside.ude.alibaba.net/s/"))&&(t="cloud"),t}function i(e){var t=void 0;try{var n=new URL(e);if(n&&n.searchParams&&n.searchParams.values())for(var r of n.searchParams.values()){var o=decodeURI(r);if(o&&(o.startsWith("https://pan.quark.cn/s/")||o.startsWith("http://quark-cloud-drive-web-serverside.ude.alibaba.net/s/"))){t=o;break}}}catch(e){}return t}function s(e,t,n,r,o){return{url:e,page_url:t,title:n,brief:r,type:o}}function l(e,t,n){return s(e,"",t,"",n)}function c(e,t,n){return{title:e,type:t,items:n}}function u(e){if(e){var t=e.toString().match(/[0-9]+P.+\?/g);if(t&&t.length>=1)return t[0].replace("?","")}return""}function h(e,t,n,r){var a=n;try{a=r.quality}catch(e){}var i=a+"_"+t;e.push(function(e,t,n){return s(e,"",t,n,"video")}(o(r.videoUrl),i,a))}function f(e,t){(function(e,t){for(var n=0;n<e.length;n++)if(e[n].url==t.url)return!0;return!1})(e,t)||e.push(t)}function d(e){var t="",n=e.getElementsByClassName("section_title");return n.length>0&&(t=n[0].innerText),t}function v(e){var t;try{e?t=function(){var e=new Array,t=document.getElementsByClassName("video_player")[0];if(t){var n=t.getElementsByTagName("video");if(n&&n.length>0){var r=n[0],a=t.getElementsByClassName("title"),i=a&&a.length>0?a[0]:null;if(r){var s=i?i.innerText:"",c=o(r.src);e.push(l(c,s,"video"))}}}return e}():window.location.host.indexOf("pornhub")>=0&&(t=function(){var e=new Array,t=void 0;for(var n in window)if(n.startsWith("flashvars_")){t=window[n];break}if(null!=t&&t&&t.mediaDefinitions){for(var r=t.mediaDefinitions,o=function(){var e="";try{e=document.getElementsByClassName("inlineFree")[0].innerText}catch(e){}return e||(e=document.title),e}(),a=0,i=r.length;a<i;++a){var s=r[a],l=s.videoUrl;if(l&&l.length>0)if(s.remote){var c=new XMLHttpRequest;c.open("GET",l,!1),c.send(null);for(var u=JSON.parse(c.responseText),f=0;f<u.length;++f)u[f].videoUrl&&u[f].videoUrl.length>0&&h(e,o,10*a+f,u[f])}else h(e,o,a,s)}return e}}())}catch(e){}return t}const p=function(){var e=Date.now(),t=!0,n=!1,r=!1,h=new Array;try{document.head.querySelector("[name~=5E4A9BB58FF18388B43D0A62C554D30C][content]").content&&(t=!1)}catch(e){}if(t)try{document.getElementById("uc_custom_app")&&(n=document.getElementsByClassName("intro").length>0,r=document.getElementsByClassName("video_player").length>0);var p,g=!0;if(n){try{p=function(){var e,t=new Array,n=function(){var e=document.title,t=document.getElementsByClassName("posterRight");if(t.length>0){var n=t[0].getElementsByClassName("title");n.length>0&&(e=n[0].innerText)}return e}(),r=(e=n,new RegExp("[\\u4E00-\\u9FFF]+","g").test(e)?8:16);n&&n.titleMaxLen&&(n=n.substring(0,r));var a=document.getElementsByClassName("play_list_section");if(a&&a.length>0){for(var i=!1,l=0,u=0;u<a.length&&!i;u++)if(!((p=d(v=a[u])).indexOf("下载")>=0)){var h=void 0;(g=v.getElementsByClassName("section_list"))&&g.length>0&&(h=g[0]),h&&h.childElementCount>3&&(i=(l+=1)>=2)}var f=new Array;for(u=0;u<a.length;u++){var v,p,g;if(!((p=d(v=a[u])).indexOf("下载")>=0)&&(h=void 0,(g=v.getElementsByClassName("section_list"))&&g.length>0&&(h=g[0]),h&&h.childElementCount>0)){i&&(f=new Array);for(var m=0;m<h.childElementCount;m++){var y=h.children[m].getElementsByTagName("a");if(y&&y.length>0&&y[0].href&&y[0].innerText.indexOf("下载")<0){var w=i?y[0].innerText:y[0].innerText+"_"+p,x=y[0].innerText+"_"+n+"|"+p,_=o(y[0].href);f.push(s(null,_,x,w,"video_page"))}}i&&f.length>0&&t.push(c(p,"video_page",f))}}!i&&f.length>0&&t.push(c(p,"video_page",f))}return t}()}catch(e){}p&&p.length>0&&(h.push(...p),g=!1)}g&&(p=function(e){var t=new Array,n=v(e);if(n&&n.length>0)t.push(c("视频","video",n));else{var r=function(e){var t,n=new Array;return e||(t=function(){var e=new Array,t=document.body.getElementsByTagName("video");if(t&&t.length>0)for(var n=0;n<t.length;n++){var r=t[n];r.src&&r.src!=window.location.href&&(r.duration&&r.videoWidth&&0!==r.videoWidth?e.push({...l(r.src,r.innerText,"video"),video_knowledge:{duration:r.duration,width:r.videoWidth,height:r.videoHeight}}):e.push({...l(r.src,r.innerText,"video"),videoItem:r}))}return e}()).length>0&&n.push(...t),(t=function(){var e=new Array;try{var t=document.body.getElementsByTagName("a");if(null!=t)for(var n=0;n<t.length;n++){var r=t[n].href;if(r){var s=a(r=o(r));if(s)e.push(l(r,t[n].innerText,s));else{var c=i(r);c&&e.push(l(c,t[n].innerText,"cloud"))}}}}catch(e){}return e}()).length>0&&n.push(...t),(t=function(e,t){var n=new Array;try{if(t&&t.length>0){var r=new RegExp('((((http|https)://[^":<>#?&=\\s\\r\\n]+\\.torrent\\b(?![&.-]))(\\??([-a-zA-Z0-9@:;%_\\+,.~#?&//=]*)))|(((http|https)://[^":<>#?&=\\s\\r\\n]+\\.(m3u8|mov|mp4|mpv|m4v|g3p|g32|avi|asf|wmv|avs|flv|mkv|mpg|mpeg|ogm|vob|rm|ts|tp|ifo|nsv|m2ts|3gp|f4v|rmvb|txt|pdf|xlsx|xls|doc|docx|epub|pptx|ppt|zip|rar|7z|tar|gz|exe|dmg|apk|pkg|deb)\\b(?![&.-]))(\\??([-a-zA-Z0-9@:;%_\\+,.~#?&//=]*)))|((?<=[">\\s\\r\\n])((magnet:[^"<>\\s\\r\\n]*xt(\\.[0-9]+)*=urn:((sha1)|(md5)|(btih)|(tree:tiger)|(bitprint)|(ed2k)|(aich)|(kzhash)|(crc32)):[0-9a-zA-Z]{10,}[^"<>\\s\\r\\n]*)|(ed2k://((\\|)|(%7[cC]))file((\\|)|(%7[cC]))[^"<>\\s\\r\\n]+((\\|)|(%7[cC]))[0-9]+((\\|)|(%7[cC]))[0-9a-zA-Z]+((\\|)|(%7[cC]))[^"<>\\s\\r\\n)]*/)|(ftp://[^"<>\\s\\r\\n]+)|((([Tt]hunder)|(qqdl)|([Ff]lashget))://([a-zA-Z0-9\\+/])+={0,2}))(?=["<\\r\\n])))',"gi"),o=t.match(r);if(o&&o.length>0)for(var a=0;a<o.length;a++){var i=o[a];i&&n.push(l(i,u(i),""))}}}catch(e){}return n}(0,(document.head?document.head.innerHTML:"")+(document.body?document.body.innerHTML:""))).length>0&&n.push(...t),n}(e);if(r&&r.length>0){for(var s=new Array,h=new Array,d=new Array,p=new Array,g=new Array,m=0;m<r.length;m++){var y=r[m];if(y.url=o(y.url),y.url&&!y.type&&(y.type=a(y.url),!y.type)){var w=i(y.url);w&&(y.url=w,y.type="cloud")}"video"==y.type?f(h,y):"doc"==y.type?f(d,y):"seed"==y.type?f(p,y):"cloud"==y.type?f(s,y):f(g,y)}s.length>0&&t.push(c("网盘分享","cloud",s)),h.length>0&&t.push(c("视频","video",h)),d.length>0&&t.push(c("文档","doc",d)),p.length>0&&t.push(c("种子","seed",p)),g.length>0&&t.push(c("其他","",g))}}return t}(r))&&p.length>0&&h.push(...p)}catch(e){}return{sniffer_key:"#SNIFFER_KEY#",cost_time:Date.now()-e,title:function(){for(var e="",t=["title","title-text","title style-scope ytd-video-primary-info-renderer","fed-play-text fed-visible fed-font-xvi fed-part-eone"],n=0;n<t.length;n++){try{var r=t[n];1==document.body.getElementsByClassName(r).length&&(e=document.body.getElementsByClassName(r)[0].lastElementChild.innerText)}catch(e){}if(e&&0!=e.length&&!((e.match(/[,]/g)||[]).length>=2))break}if(!e||0==e.length)try{e=document.head.getElementsByTagName("meta").keywords.content}catch(e){}return e&&(e.length>30||(e.match(/[,]/g)||[]).length>2)&&(e=""),e||(e=document.title),e}(),result:h,page_url:location.origin+location.pathname,host:location.host}};try{window.addEventListener("load",(()=>g())),r.A.on("website:enabled",(e=>{e.enabled&&g()}))}catch(e){}async function g(){try{await w(m,2,3e3),await w(y,10,1e3),function(){const e=document.querySelector("video");if(!e)return;r.A.on("sniff:event",((t,n)=>{try{"pause"===n.op&&e.pause()}catch(e){}}))}()}catch(e){}}function m(){const e=p();return!(!e.result||!e.result.length||(function(e){for(let t=0;t<e.result.length;t++){const n=e.result[t];if("视频"===n.title)for(let t=0;t<n.items?.length;t++){const r=n.items[t];if(r.videoItem){let o=r.videoItem;o.onloadedmetadata=()=>{r.video_knowledge={},r.video_knowledge.duration=o.duration,r.video_knowledge.width=o.videoWidth,r.video_knowledge.height=o.videoHeight,window.top.postMessage({channel:"sniff.sendMetaInfo",data:e},"*"),o=void 0},delete n.items[t].videoItem}}}}(e),window.top.postMessage({channel:"sniff.sendResult",data:e},"*"),0))}function y(){const e=document.querySelector("video");if(!e)return!1;const t=e.getAttribute("autoplay");return(t&&"false"!==t||!1===e.paused)&&window.top.postMessage({channel:"sniff.sendEvent",data:{action:"autoplay",src:e.src,currentTime:_(e)}},"*"),["timeupdate","play","canplay","pause","playing","waiting","stalled","seeked","seeking","error"].forEach((t=>{const n=()=>{"timeupdate"===t&&e.currentTime>0?(e.removeEventListener(t,n),window.top.postMessage({channel:"sniff.sendEvent",data:{action:"playing",src:e.src,currentTime:_(e)}},"*")):window.top.postMessage({channel:"sniff.sendEvent",data:{action:t,src:e.src,currentTime:_(e)}},"*")};e.addEventListener(t,n)})),!0}async function w(e,t,n=1e3){for(;t>0;){if(e())return Promise.resolve();await x(n),t-=1}return Promise.reject()}function x(e){return new Promise((t=>setTimeout(t,e)))}function _(e){const t=e.currentTime;return t?parseFloat(t.toFixed(1)):t}})();